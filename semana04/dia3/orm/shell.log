python manage.py shell
Python 3.9.10 (tags/v3.9.10:f2f3f53, Jan 17 2022, 15:14:21) [MSC v.1929 64 bit (AMD64)] on win32
Type "help", "copyright", "credits" or "license" for more information.
(InteractiveConsole)
>>> from recetas.models import Autor,Receta,Comentario
>>> a = Autor(nombre='Javier Pérez',email='eperez@gmail.com')
>>> a.save()
>>> Autor.objects.all()
<QuerySet [<Autor: Javier Pérez>]>
>>> primer = Autor.objects.get(pk=1)
>>> primer.email
'eperez@gmail.com'
>>> primer.nombre
'Javier Pérez'
>>> r1 = Receta.objects.create(
... titulo='Huevo frito',
... ingredientes='huevo,sal,aceite',
... preparacion='Calentar la sarten y bla bla bla',
... autor=primer)
>>> Receta.objects.all()
<QuerySet [<Receta: Huevo frito>]>
>>> r1.titulo
'Huevo frito'
>>> c1 = Comentario.objects.create(
... receta=r1,
... texto='Un clásico para el desayuno')
>>> Comentario.objecst.all()
Traceback (most recent call last):
  File "<console>", line 1, in <module>
AttributeError: type object 'Comentario' has no attribute 'objecst'
>>> Comentario.objects.all()
<QuerySet [<Comentario: Un clásico para el desayuno>]>
>>> r2 = Receta.objects.create(
... titulo='Agua Hervida',
... ingredientes='agua',
... preparacion='Poner la tetera en el bla bla bla',
... autor=primer)
>>> Receta.objects.all()
<QuerySet [<Receta: Huevo frito>, <Receta: Agua Hervida>]>
>>> Receta.objects.exclude(ingredientes__startswith='A')
<QuerySet [<Receta: Huevo frito>]>
>>> Receta.objects.filter(preparacion__contains='tetera')
<QuerySet [<Receta: Agua Hervida>]>
>>> Receta.objects.all().order_by('titulo')
<QuerySet [<Receta: Agua Hervida>, <Receta: Huevo frito>]>
>>> Receta.objects.all().order_by('titulo').reverse()
<QuerySet [<Receta: Huevo frito>, <Receta: Agua Hervida>]>
>>> Comentario.objects.filter(receta=r1)
<QuerySet [<Comentario: Un clásico para el desayuno>]>
>>> Comentario.objects.filter(receta=r2)
<QuerySet []>
>>> primer
<Autor: Javier Pérez>
>>> primer.receta
Traceback (most recent call last):
  File "<console>", line 1, in <module>
AttributeError: 'Autor' object has no attribute 'receta'
>>> primer.receta_set.all()
<QuerySet [<Receta: Huevo frito>, <Receta: Agua Hervida>]>
>>> r1.comentario_set.all()
<QuerySet [<Comentario: Un clásico para el desayuno>]>
>>> Receta.objects.filter(titulo='Huevo frito').update(titulo='Huevito frito')
1
>>> Receta.objects.all()
<QuerySet [<Receta: Huevito frito>, <Receta: Agua Hervida>]>
>>> C2 = Comentario.objects.create(
... receta=r1,
... texto='Para pasar el hambre')
>>> Comentario.objects.filter(receta=r1)
<QuerySet [<Comentario: Un clásico para el desayuno>, <Comentario: Para pasar el hambre>]>
>>> Comentario.objects.filter(receta=r1).count()
2
>>> Comentario.objects.filter(receta=r2).count()
0
>>> C3 = Comentario.objects.create(
... receta=r2,
... texto='Receta sin sentido')
>>> Comentario.objects.filter(receta=r2)
<QuerySet [<Comentario: Receta sin sentido>]>